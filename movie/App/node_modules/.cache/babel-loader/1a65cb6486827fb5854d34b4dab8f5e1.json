{"remainingRequest":"D:\\project_movie_1902-master\\movie\\node_modules\\babel-loader\\lib\\index.js!D:\\project_movie_1902-master\\movie\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project_movie_1902-master\\movie\\src\\components\\Mvseat.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\project_movie_1902-master\\movie\\src\\components\\Mvseat.vue","mtime":1561117657000},{"path":"D:\\project_movie_1902-master\\movie\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1561445008106},{"path":"D:\\project_movie_1902-master\\movie\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\project_movie_1902-master\\movie\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport mvheader from './Mvheader';\nimport mverweima from './Mverweima';\nexport default {\n  data: function data() {\n    return {\n      headtitle: \"X战警：黑凤凰（数字3D\",\n      headqiehuan: \"场次\",\n      dd1: \"\",\n      //第一排\n      dd2: \"\",\n      //第二排\n      dd3: \"\",\n      //第三排\n      dd4: \"\",\n      //第四排\n      dd5: \"\",\n      //第五排\n      dd6: \"\",\n      //第六排\n      dd7: \"\",\n      //第七排\n      sum: 0,\n      //选中的数量\n      shuzu: \"\",\n      //座位最外层的div\n      dibuhao: \"\",\n      //ABCDEFG\n      dibuwai: \"\",\n      //座位号的父元素\n      erz: \"\",\n      //座位号\n      daixuan: \"待选座位\",\n      dis: true,\n      //控制按钮状态  \n      ysgprice: 0,\n      //逸速购价格\n      ysgshuju: \"\",\n      //逸速购数据(数据)\n      ysgtime: \"\",\n      //逸速购时间\n      ysgtitle: \"\",\n      //逸速购4d\n      ysgxuan: \"\",\n      //逸速购当前选中的日期 \n      show: false,\n      show2: true,\n      session: -1,\n      pid: 0\n    };\n  },\n  //props:[\"pid\"],//接收从逸速购传来的id去取购物车信息\n  methods: {\n    seatd1: function seatd1(e) {\n      //第一排\n      this.dibuhao = \"A\"; //对应的排\n\n      this.quanbuzong(e, this.dibuhao, this.dd1);\n    },\n    seatd2: function seatd2(e) {\n      //第二排\n      this.dibuhao = \"B\";\n      this.quanbuzong(e, this.dibuhao, this.dd2);\n    },\n    seatd3: function seatd3(e) {\n      //第三排\n      this.dibuhao = \"C\";\n      this.quanbuzong(e, this.dibuhao, this.dd3);\n    },\n    seatd4: function seatd4(e) {\n      //第四排\n      this.dibuhao = \"D\";\n      this.quanbuzong(e, this.dibuhao, this.dd4);\n    },\n    seatd5: function seatd5(e) {\n      //第五排\n      this.dibuhao = \"E\";\n      this.quanbuzong(e, this.dibuhao, this.dd5);\n    },\n    seatd6: function seatd6(e) {\n      //第六排\n      this.dibuhao = \"F\";\n      this.quanbuzong(e, this.dibuhao, this.dd6);\n    },\n    seatd7: function seatd7(e) {\n      //第七排\n      this.dibuhao = \"G\";\n      this.quanbuzong(e, this.dibuhao, this.dd7);\n    },\n    dibuzong1: function dibuzong1(dibuhao1, e1) {\n      //删除指定的座位\n      var zui = [];\n\n      for (var i = 0; i < this.erz.length; i++) {\n        var nei = this.erz[i].innerHTML; // console.log(nei)\n\n        if (e1 >= 9) {\n          zui[zui.length] = nei.substr(0, 4);\n        } else {\n          zui[zui.length] = nei.substr(0, 3);\n        }\n\n        ;\n      }\n\n      ;\n\n      for (var i = 0; i < zui.length; i++) {\n        if (zui[i] == dibuhao1 + \"排\" + (e1 + 1)) {\n          this.erz[i].remove();\n        }\n\n        ;\n      }\n\n      ;\n    },\n    dibuzong2: function dibuzong2(dibuhao2, e2) {\n      //添加座位\n      var frag = document.createDocumentFragment();\n      var span = document.createElement(\"span\");\n      var p = document.createElement(\"p\");\n      span.innerHTML = \"×\";\n      span.style.marginLeft = \"4%\";\n      span.style.fontSize = \"15px\";\n      p.style.border = \"1px solid #dfdcdc\";\n      p.style.width = \"80px\";\n      p.style.margin = \"0\";\n      p.style.textAlign = \"center\";\n      p.style.marginRight = \"5px\";\n      p.style.marginTop = \"1%\";\n      p.innerHTML = \"\".concat(dibuhao2, \"\\u6392\").concat(e2 + 1, \"\\u5EA7\");\n      p.appendChild(span);\n      frag.appendChild(p);\n      this.dibuwai.appendChild(frag);\n    },\n    maopao: function maopao(e) {\n      //冒泡(点击删除对应元素)\n      var span = e.target; //当前元素\n\n      if (span.nodeName == \"SPAN\") {\n        //为span才触发\n        span.parentNode.remove(); //删除元素\n\n        var spanin = span.parentNode.textContent; //全部的内容\n\n        var spanin1 = spanin.substr(0, 1); //排号\n\n        var zimu = \"\"; //下标\n\n        if (spanin1 == \"A\") {\n          zimu = 0;\n        } else if (spanin1 == \"B\") {\n          zimu = 1;\n        } else if (spanin1 == \"C\") {\n          zimu = 2;\n        } else if (spanin1 == \"D\") {\n          zimu = 3;\n        } else if (spanin1 == \"E\") {\n          zimu = 4;\n        } else if (spanin1 == \"F\") {\n          zimu = 5;\n        } else if (spanin1 == \"G\") {\n          zimu = 6;\n        }\n\n        ;\n\n        if (spanin.length == 5) {\n          //判断切割的内容\n          var spanin2 = spanin.substr(2, 1); //小于10的号\n        } else {\n          var spanin3 = spanin.substr(2, 2); //大于10的号\n        }\n\n        ;\n        var fuq = this.shuzu[zimu].children; //每一排的元素\n\n        for (var i = 0; i < fuq.length; i++) {\n          if (i + 1 == spanin2 || i + 1 == spanin3) {\n            fuq[i].style.color = \"rgb(220, 221, 222)\"; //修改元素\n          }\n\n          ;\n        }\n\n        ;\n        this.sum--; //删一次就可以多点一次\n\n        this.zhuantai(); //更改待选字母(按钮的控制)\n      }\n\n      ;\n    },\n    jianting: function jianting() {\n      //冒泡更改按钮状态\n      this.zhuantai(); //更改待选字母(按钮的控制)\n    },\n    zhuantai: function zhuantai() {\n      //更改待选字母(按钮的控制)\n      if (this.dibuwai.innerHTML == \"\") {\n        this.daixuan = \"待选座位\";\n        this.dis = true;\n      } else {\n        this.daixuan = \"已选座位\";\n        this.dis = false;\n      }\n\n      ;\n    },\n    quanbuzong: function quanbuzong(e, hao, dd) {\n      //选择座位的总函数（重点）\n      var seatcolor = window.getComputedStyle(dd[e], null).color; //获取样式值\n\n      if (seatcolor !== \"rgb(255, 87, 21)\") {\n        //在不是已售的情况下\n        if (seatcolor == \"rgb(220, 221, 222)\") {\n          //是未被选中\n          if (this.sum <= 5) {\n            //每选一个就+1\n            this.sum++;\n          }\n\n          ;\n\n          if (this.sum <= 6) {\n            //只能选6个\n            var nn = 0; //按颜色去判断选了几个\n\n            for (var i = 0; i < this.shuzu.length; i++) {\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = this.shuzu[i].children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var ss = _step.value;\n                  var rr = window.getComputedStyle(ss, null).color;\n\n                  if (rr == \"rgb(67, 160, 71)\") {\n                    nn++;\n                  }\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n            }\n\n            dd[e].style.color = \"rgb(67,160,71)\"; //选中\n\n            this.dibuzong2(hao, e); //添加元素\n\n            if (this.sum == 6 && nn !== 4) {\n              //再次加+第二次不会执行选中\n              this.sum++;\n            }\n          }\n\n          ;\n        } else {\n          this.sum--;\n          dd[e].style.color = \"rgb(220, 221, 222)\"; //取消\n\n          this.dibuzong1(hao, e); //清除元素\n        }\n\n        ;\n      } else {\n        return;\n      }\n\n      ;\n    },\n    ysg: function ysg() {\n      var _this = this;\n\n      //逸速购的数据\n      var url = \"product/selcar\";\n      this.axios.get(url, {\n        params: {\n          id: this.pid\n        }\n      }).then(function (result) {\n        _this.ysgshuju = result.data.data[0];\n      });\n    },\n    spping: function spping() {\n      var _this2 = this;\n\n      //购物车按钮\n      if (this.session == null) {\n        this.$messagebox({\n          title: \"请先登录\",\n          message: \"是否跳转到登录界面？\",\n          showConfimButton: true,\n          //显示确定按钮\n          showCancelButton: true //显示取消按钮\n\n        }).then(function (result) {\n          if (result == \"confirm\") {\n            _this2.$router.push(\"/dl\");\n          }\n        });\n      } else {\n        var zongprice = 0; //选了几个\n\n        var zuovalue = \"\";\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = this.erz[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var er = _step2.value;\n            zuovalue += er.textContent.length == 5 ? er.textContent.substr(0, 4) + \",\" : er.textContent.substr(0, 5) + \",\";\n            zongprice++;\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        this.ysgprice = this.ysgprice * zongprice; //总数*价格\n\n        zuovalue = zuovalue.substr(0, zuovalue.length - 1); //当前选中的座位\n\n        var url = \"product//incart\"; //插入购物车\n\n        this.axios(url, {\n          params: {\n            title: this.ysgshuju.title,\n            data: this.ysgxuan,\n            seat: zuovalue,\n            time: this.ysgtime,\n            img: this.ysgshuju.img,\n            price: this.ysgprice,\n            count: 1,\n            ddd: this.ysgtitle\n          }\n        }).then(function (result) {\n          _this2.$toast({\n            message: \"添加成功\",\n            duration: 1000 // iconClass:\"iconfont icon-kaixin\"\n\n          });\n\n          _this2.$router.push(\"/mvshopping\");\n        });\n      }\n    },\n    goumai: function goumai() {\n      var _this3 = this;\n\n      //控制二维码\n      if (this.session == null) {\n        this.$messagebox({\n          title: \"请先登录\",\n          message: \"是否跳转到登录界面？\",\n          showConfimButton: true,\n          //显示确定按钮\n          showCancelButton: true //显示取消按钮\n\n        }).then(function (result) {\n          if (result == \"confirm\") {\n            _this3.$router.push(\"/dl\");\n          }\n        });\n      } else {\n        this.show = true;\n        this.show2 = false;\n      }\n    },\n    saoma: function saoma(e) {\n      //控制二维码\n      if (e.target.getAttribute(\"class\") == \"iconfont icon-cuo3 p2\") {\n        this.show = false;\n        this.show2 = true;\n      }\n    },\n    seatzuo: function seatzuo() {\n      history.go(-1);\n      sessionStorage.setItem(\"seatz\", this.pid);\n    }\n  },\n  created: function created() {\n    this.pid = this.$route.query.pid; //rou传值\n    // console.log(this.pid)\n\n    if (sessionStorage.getItem(\"price\") == null) {\n      this.$router.push(\"/mvysg\"); //没价格就跳回逸速购\n    } else {\n      this.ysgprice = sessionStorage.getItem(\"price\"); //保存逸速购的价格\n    }\n\n    ;\n    this.ysgtime = sessionStorage.getItem(\"time\"); //保存逸速购的时间\n\n    this.ysgtitle = sessionStorage.getItem(\"title\"); //保存逸速购的4d\n\n    this.ysgxuan = sessionStorage.getItem(\"xuantime\"); //保存逸速购的当前日期\n\n    this.session = sessionStorage.getItem(\"sessionLogin\");\n    this.ysg(); //获取逸速购资源\n  },\n  components: {\n    mvheader: mvheader,\n    mverweima: mverweima\n  },\n  mounted: function mounted() {\n    var zong = this.$refs.seatzongzong.children; //选座最外div\n\n    this.shuzu = zong;\n    var dibuwai = this.$refs.dibuh; //底部座位号\n\n    this.dibuwai = dibuwai;\n    this.erz = this.dibuwai.children;\n\n    for (var i = 0; i < zong.length; i++) {\n      //每个座位\n      if (i == 0) {\n        this.dd1 = zong[i].children;\n      } else if (i == 1) {\n        this.dd2 = zong[i].children;\n      } else if (i == 2) {\n        this.dd3 = zong[i].children;\n      } else if (i == 3) {\n        this.dd4 = zong[i].children;\n      } else if (i == 4) {\n        this.dd5 = zong[i].children;\n      } else if (i == 5) {\n        this.dd6 = zong[i].children;\n      } else if (i == 6) {\n        this.dd7 = zong[i].children;\n      }\n    }\n\n    ; //随机选座位\n\n    function f1() {\n      //第几排\n      var ge = 10; //第几排能选几个\n\n      var sui2 = 0; //第几个\n\n      var sui1 = Math.floor(Math.random() * 7); //第几排\n\n      if (sui1 <= 2) {\n        sui2 = Math.floor(Math.random() * ge);\n      } else if (sui1 > 3 && sui1 <= 4) {\n        ge = 8;\n        sui2 = Math.floor(Math.random() * ge);\n      } else {\n        ge = 6;\n        sui2 = Math.floor(Math.random() * ge);\n      }\n\n      return sui1;\n    }\n\n    function f2() {\n      //每排能选几个\n      var ge = 10; //第几排能选几个\n\n      var sui2 = 0; //第几个\n\n      var sui1 = Math.floor(Math.random() * 7); //第几排\n\n      if (sui1 <= 2) {\n        sui2 = Math.floor(Math.random() * ge);\n      } else if (sui1 > 3 && sui1 <= 4) {\n        ge = 8;\n        sui2 = Math.floor(Math.random() * ge);\n      } else {\n        ge = 6;\n        sui2 = Math.floor(Math.random() * ge);\n      }\n\n      return sui2;\n    }\n\n    var ff = Math.floor(Math.random() * 6); //随机选几个\n\n    setTimeout(function () {\n      for (var i = 0; i <= ff; i++) {\n        zong[f1()].children[f2()].style.color = \"rgb(255, 87, 21)\";\n      }\n    }, 300);\n  },\n  watch: {}\n};",{"version":3,"sources":["Mvseat.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"ani3\">\n        <div v-show=\"show2\">\n            <div class=\"zuo_top\"></div>\n            <mvheader :title=\"ysgshuju.title\" :qiehuan=\"headqiehuan\" :shijian=\"seatzuo\" :shijian2=\"seatzuo\"></mvheader><!--页头-->\n\n\n            <div class=\"top_title\"><!--头部标题-->\n                <!-- <router-link :to=\"{path:'mvysg',query:{sid:pid}}\"> -->\n                    <div class=\"title_right\">\n                            <div class=\"iconfont icon-lunbo-jiantouzuo\" @click=\"seatzuo\"></div>\n                        <div>\n                            <p>14:35</p>\n                            <p>上一场</p>\n                        </div>\n                    </div>\n                <!-- </router-link> -->\n                <div class=\"title_center\">\n                    <h5>{{ysgxuan}} {{ysgtime}}</h5>\n                    <p>{{ysgtitle}}</p>\n                </div>\n                <div class=\"title_left\">\n                    <div>\n                        <p>18:10</p>\n                        <p>下一场</p>\n                    </div>\n                     <!-- <router-link :to=\"{path:'mvysg',query:{sid:pid}}\"> -->\n                        <div class=\"iconfont icon-lunbo-jiantouyou\" @click=\"seatzuo\"></div>\n                     <!-- </router-link> -->\n                </div>\n            </div>\n\n            <div class=\"seat_title\"><!--座位头部-->\n                <div>\n                    <div class=\"iconfont icon-zuowei2\"></div>\n                    <p>可选</p>\n                </div>\n                <div class=\"seatcen\">\n                    <div class=\"iconfont icon-zuowei2\"></div>\n                    <p>已售</p>\n                </div>\n                <div>\n                    <div class=\"iconfont icon-zuowei2 seatcen2\"></div>\n                    <p>已选</p>\n                </div>\n            </div>\n            <div class=\"pm_img\"><!--屏幕-->\n                <p>金逸影城金逸空中电影城 3号激光影厅</p>\n            </div>\n\n            <div class=\"seatazong\" ref=\"seatzongzong\" @click=\"jianting\"><!--座位-->\n                <div class=\"seat1\" ><!--第1排-->\n                    <div class=\"iconfont icon-zuowei2\" v-for=\"(item,index) of 12\" :key=\"index\" @click=\"seatd1(index)\" ></div>\n                </div>\n                <div class=\"seat2\" ><!--第2排-->\n                    <div class=\"iconfont icon-zuowei2\" v-for=\"(item,index) of 12\" :key=\"index\" @click=\"seatd2(index)\"></div>\n                </div>\n                <div class=\"seat3\" ><!--第3排-->\n                    <div class=\"iconfont icon-zuowei2\" v-for=\"(item,index) of 12\" :key=\"index\" @click=\"seatd3(index)\"></div>\n                </div>\n                <div class=\"seat4\" ><!--第4排-->\n                    <div class=\"iconfont icon-zuowei2\" v-for=\"(item,index) of 10\" :key=\"index\" @click=\"seatd4(index)\"></div>\n                </div>\n                <div class=\"seat5\" ><!--第5排-->\n                    <div class=\"iconfont icon-zuowei2\" v-for=\"(item,index) of 10\" :key=\"index\" @click=\"seatd5(index)\"></div>\n                </div>\n                <div class=\"seat6\" ><!--第6排-->\n                    <div class=\"iconfont icon-zuowei2\" v-for=\"(item,index) of 8\" :key=\"index\" @click=\"seatd6(index)\"></div>\n                </div>\n                <div class=\"seat7\"><!--第7排-->\n                    <div class=\"iconfont icon-zuowei2\" v-for=\"(item,index) of 8\" :key=\"index\" @click=\"seatd7(index)\"></div>\n                </div>\n\n                <div class=\"zuoright\">\n                    <p>A</p>\n                    <p>B</p>\n                    <p>C</p>\n                    <p>D</p>\n                    <p>E</p>\n                    <p>F</p>\n                    <p>G</p>\n                </div>\n            </div>\n\n            <div class=\"seat_bot\"><!--底部-->\n                <div class=\"xuanseat\" @click=\"maopao\"><!--座位号-->\n                    <p>{{daixuan}} (一次最多选择6个座位)</p>\n                    <div class=\"seathao\" ref=\"dibuh\">\n                    \n                    </div>\n                </div>\n                \n                <div class=\"seat_btn\">\n                    <button :disabled=\"dis\"  @click=\"spping\">加入购物车</button>\n                    <button :disabled=\"dis\" @click=\"goumai\">立即购买</button>\n                </div>\n            </div>\n        </div>\n        <mverweima v-show=\"show\" @click.native=\"saoma\"></mverweima>\n    </div>\n</template>\n\n<script>\n\nimport mvheader from './Mvheader'\nimport mverweima from './Mverweima'\nexport default {\n    data() {\n        return {\n            headtitle:\"X战警：黑凤凰（数字3D\",\n            headqiehuan:\"场次\",\n            dd1:\"\",//第一排\n            dd2:\"\",//第二排\n            dd3:\"\",//第三排\n            dd4:\"\",//第四排\n            dd5:\"\",//第五排\n            dd6:\"\",//第六排\n            dd7:\"\",//第七排\n            sum:0,//选中的数量\n            shuzu:\"\",//座位最外层的div\n            dibuhao:\"\",//ABCDEFG\n            dibuwai:\"\",//座位号的父元素\n            erz:\"\",//座位号\n            daixuan:\"待选座位\",\n            dis:true,//控制按钮状态  \n            ysgprice:0,//逸速购价格\n            ysgshuju:\"\",//逸速购数据(数据)\n            ysgtime:\"\",//逸速购时间\n            ysgtitle:\"\",//逸速购4d\n            ysgxuan:\"\",//逸速购当前选中的日期 \n            show:false,\n            show2:true,\n            session:-1,\n            pid:0, \n        };\n    },\n    //props:[\"pid\"],//接收从逸速购传来的id去取购物车信息\n    methods:{\n        seatd1(e){//第一排\n            this.dibuhao=\"A\"//对应的排\n            this.quanbuzong(e,this.dibuhao,this.dd1);\n        },\n        seatd2(e){//第二排\n            this.dibuhao=\"B\"\n            this.quanbuzong(e,this.dibuhao,this.dd2);\n        },\n        seatd3(e){//第三排\n         this.dibuhao=\"C\"\n            this.quanbuzong(e,this.dibuhao,this.dd3);\n        },\n        seatd4(e){//第四排\n            this.dibuhao=\"D\"\n            this.quanbuzong(e,this.dibuhao,this.dd4)\n        },\n        seatd5(e){//第五排\n            this.dibuhao=\"E\"\n             this.quanbuzong(e,this.dibuhao,this.dd5)\n        },\n        seatd6(e){//第六排\n            this.dibuhao=\"F\"\n             this.quanbuzong(e,this.dibuhao,this.dd6)\n        },\n        seatd7(e){//第七排\n            this.dibuhao=\"G\"\n            this.quanbuzong(e,this.dibuhao,this.dd7)\n        },\n        dibuzong1(dibuhao1,e1){//删除指定的座位\n            var zui=[]\n            for(var i=0;i<this.erz.length;i++){\n                var nei=this.erz[i].innerHTML\n                // console.log(nei)\n                if(e1>=9){\n                    zui[zui.length]=nei.substr(0,4)\n                }else{\n\n                    zui[zui.length]=nei.substr(0,3)\n                };\n            };\n            for(var i=0;i<zui.length;i++){\n                if( zui[i]==dibuhao1+\"排\"+(e1+1)){\n                this.erz[i].remove();\n                };\n            };       \n        },\n        dibuzong2(dibuhao2,e2){//添加座位\n            var frag=document.createDocumentFragment();\n            var span=document.createElement(\"span\");\n            var p=document.createElement(\"p\");\n            span.innerHTML=\"×\";\n            span.style.marginLeft=\"4%\";\n            span.style.fontSize=\"15px\";\n            p.style.border=\"1px solid #dfdcdc\";\n            p.style.width=\"80px\";\n            p.style.margin=\"0\";\n            p.style.textAlign=\"center\";\n            p.style.marginRight=\"5px\";\n            p.style.marginTop=\"1%\";\n            p.innerHTML=`${dibuhao2}排${e2+1}座`;\n            p.appendChild(span);\n            frag.appendChild(p);\n            this.dibuwai.appendChild(frag);\n        },\n        maopao(e){//冒泡(点击删除对应元素)\n            var span=e.target;//当前元素\n            if(span.nodeName==\"SPAN\"){//为span才触发\n                span.parentNode.remove();//删除元素\n                var spanin=span.parentNode.textContent;//全部的内容\n                var spanin1=spanin.substr(0,1)//排号\n                var zimu=\"\";//下标\n                if(spanin1==\"A\"){\n                    zimu=0;\n                }else if(spanin1==\"B\"){\n                    zimu=1\n                }else if(spanin1==\"C\"){\n                    zimu=2\n                }else if(spanin1==\"D\"){\n                    zimu=3\n                }else if(spanin1==\"E\"){\n                    zimu=4\n                }else if(spanin1==\"F\"){\n                    zimu=5\n                }else if(spanin1==\"G\"){\n                    zimu=6\n                };\n                \n                if(spanin.length==5){//判断切割的内容\n                    var spanin2=spanin.substr(2,1);//小于10的号\n                }else{\n                    var spanin3=spanin.substr(2,2);//大于10的号\n                };\n                var fuq=this.shuzu[zimu].children//每一排的元素\n                for(var i=0;i<fuq.length;i++){\n                    if(i+1==spanin2||i+1==spanin3){\n                        fuq[i].style.color=\"rgb(220, 221, 222)\";//修改元素\n                    };\n                };\n                this.sum--//删一次就可以多点一次\n                this.zhuantai();//更改待选字母(按钮的控制)\n            };\n           \n        },\n        jianting(){//冒泡更改按钮状态\n            this.zhuantai();//更改待选字母(按钮的控制)\n           \n        },\n        zhuantai(){//更改待选字母(按钮的控制)\n            if(this.dibuwai.innerHTML==\"\"){\n                this.daixuan=\"待选座位\"\n                this.dis=true;\n             \n            }else{\n                this.daixuan=\"已选座位\"\n                this.dis=false;\n                \n            };\n        },\n\n        quanbuzong(e,hao,dd){//选择座位的总函数（重点）\n        \n        \n            var seatcolor=window.getComputedStyle(dd[e],null).color;//获取样式值\n            if(seatcolor!==\"rgb(255, 87, 21)\"){//在不是已售的情况下\n                if(seatcolor==\"rgb(220, 221, 222)\"){//是未被选中\n                    if(this.sum<=5){//每选一个就+1\n                        this.sum++\n                        \n                    };\n                    if(this.sum<=6){//只能选6个\n                        var nn=0//按颜色去判断选了几个\n                        for(var i=0;i<this.shuzu.length;i++){\n                            for(var ss of this.shuzu[i].children){\n                              var rr= window.getComputedStyle(ss,null).color;\n                              if(rr==\"rgb(67, 160, 71)\"){\n                                   nn++\n                                  \n                                }\n                            } \n                        }\n                        dd[e].style.color=\"rgb(67,160,71)\"//选中\n                         this.dibuzong2(hao,e)//添加元素\n                        if(this.sum==6&&nn!==4){//再次加+第二次不会执行选中\n                            this.sum++\n                        }  \n                    };\n                }else{\n                    this.sum--\n                    dd[e].style.color=\"rgb(220, 221, 222)\"//取消\n                    this.dibuzong1(hao,e)//清除元素\n                };\n            }else{\n                return;\n            };\n        },\n        ysg(){//逸速购的数据\n            var url=\"product/selcar\";\n            this.axios.get(url,{params:{id:this.pid}})\n            .then(result=>{ \n                this.ysgshuju=result.data.data[0]   \n            })\n        },\n        spping(){//购物车按钮\n            \n            if(this.session==null){\n                this.$messagebox({\n                    title:\"请先登录\",\n                    message:\"是否跳转到登录界面？\",\n                    showConfimButton:true,//显示确定按钮\n                    showCancelButton:true,//显示取消按钮\n                })\n                .then(result=>{\n                    if(result==\"confirm\"){\n                        this.$router.push(\"/dl\")\n                    }\n                });\n            }else{\n                var zongprice=0;//选了几个\n                var zuovalue=\"\"\n                for(var er of this.erz){\n                    zuovalue+=er.textContent.length==5?er.textContent.substr(0,4)+\",\":er.textContent.substr(0,5)+\",\"\n                    zongprice++\n                }\n                this.ysgprice=this.ysgprice*zongprice;//总数*价格\n                zuovalue=zuovalue.substr(0,zuovalue.length-1)//当前选中的座位\n\n                var url=\"product//incart\";//插入购物车\n                this.axios(url,{params:{\n                    title:this.ysgshuju.title,\n                    data:this.ysgxuan,\n                    seat:zuovalue,\n                    time:this.ysgtime,\n                    img:this.ysgshuju.img,\n                    price:this.ysgprice,\n                    count:1,\n                    ddd:this.ysgtitle\n                }}).then(result=>{\n                    this.$toast({\n                    message:\"添加成功\",\n                    duration:1000,\n                    // iconClass:\"iconfont icon-kaixin\"\n                    });\n                    this.$router.push(\"/mvshopping\");\n                })  \n            }\n                \n        },\n        goumai(){//控制二维码\n             if(this.session==null){\n                this.$messagebox({\n                    title:\"请先登录\",\n                    message:\"是否跳转到登录界面？\",\n                    showConfimButton:true,//显示确定按钮\n                    showCancelButton:true,//显示取消按钮\n                })\n                .then(result=>{\n                    if(result==\"confirm\"){\n                        this.$router.push(\"/dl\")\n                    }\n                });\n             }else{\n                 this.show=true; \n                 this.show2=false;\n             }\n        },\n        saoma(e){//控制二维码\n           if(e.target.getAttribute(\"class\")==\"iconfont icon-cuo3 p2\"){\n               this.show=false;\n               this.show2=true;\n           }\n        },\n        seatzuo(){\n            history.go(-1)\n            sessionStorage.setItem(\"seatz\",this.pid)  \n        },\n    },\n    created(){\n        this.pid=this.$route.query.pid//rou传值\n        // console.log(this.pid)\n        if(sessionStorage.getItem(\"price\")==null){\n            this.$router.push(\"/mvysg\")//没价格就跳回逸速购\n        }else{\n            this.ysgprice=sessionStorage.getItem(\"price\") //保存逸速购的价格\n        };\n        this.ysgtime=sessionStorage.getItem(\"time\") //保存逸速购的时间\n        this.ysgtitle=sessionStorage.getItem(\"title\") //保存逸速购的4d\n        this.ysgxuan=sessionStorage.getItem(\"xuantime\") //保存逸速购的当前日期\n        this.session=sessionStorage.getItem(\"sessionLogin\");\n        this.ysg()//获取逸速购资源\n    },\n    components:{\n        mvheader,\n        mverweima,\n    },\n    \n    mounted(){\n        var zong=this.$refs.seatzongzong.children;//选座最外div\n            this.shuzu=zong;\n        var dibuwai=this.$refs.dibuh;//底部座位号\n            this.dibuwai=dibuwai\n            this.erz=this.dibuwai.children\n        for(var i=0;i<zong.length;i++){//每个座位\n            if(i==0){\n                this.dd1=zong[i].children;\n            }else if(i==1){\n                this.dd2=zong[i].children;\n            }else if(i==2){\n                this.dd3=zong[i].children;\n            }else if(i==3){\n                this.dd4=zong[i].children;\n            }else if(i==4){\n                this.dd5=zong[i].children;\n            }else if(i==5){\n                this.dd6=zong[i].children;\n            }else if(i==6){\n                this.dd7=zong[i].children;\n            }\n        };\n        //随机选座位\n        function f1(){//第几排\n            var ge=10//第几排能选几个\n            var sui2=0//第几个\n           \n            var sui1=Math.floor(Math.random()*7);//第几排\n            if(sui1<=2){\n                sui2=Math.floor(Math.random()*ge);\n            }else if(sui1>3&&sui1<=4){\n                ge=8\n                sui2=Math.floor(Math.random()*ge);\n            }else{\n                ge=6\n                sui2=Math.floor(Math.random()*ge);\n            }\n            return sui1\n        }\n        function f2(){//每排能选几个\n            var ge=10//第几排能选几个\n            var sui2=0//第几个\n            var sui1=Math.floor(Math.random()*7);//第几排\n            if(sui1<=2){\n                sui2=Math.floor(Math.random()*ge);\n            }else if(sui1>3&&sui1<=4){\n                ge=8\n                sui2=Math.floor(Math.random()*ge);\n            }else{\n                ge=6\n                sui2=Math.floor(Math.random()*ge);\n            }\n            return sui2\n        }\n\n        var ff=Math.floor(Math.random()*6);//随机选几个\n        setTimeout(function(){           \n            for(var i=0;i<=ff;i++){\n            zong[f1()].children[f2()].style.color=\"rgb(255, 87, 21)\"\n            \n            }\n        },300)\n    },\n    watch:{\n        \n        \n    },\n}\n</script>\n\n\n<style scoped>\n    @import \"../assets/css/seat.css\";\n</style>\n"],"sourceRoot":"src\\components"}]}