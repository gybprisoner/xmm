{"remainingRequest":"C:\\Users\\web\\Desktop\\suoyouxiangmu\\movie\\movie\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\suoyouxiangmu\\movie\\movie\\src\\components\\denglu\\dl.vue?vue&type=style&index=0&id=711ff07e&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\web\\Desktop\\suoyouxiangmu\\movie\\movie\\src\\components\\denglu\\dl.vue","mtime":1561117657000},{"path":"C:\\Users\\web\\Desktop\\suoyouxiangmu\\movie\\movie\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\suoyouxiangmu\\movie\\movie\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907989000},{"path":"C:\\Users\\web\\Desktop\\suoyouxiangmu\\movie\\movie\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\suoyouxiangmu\\movie\\movie\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1561445008000},{"path":"C:\\Users\\web\\Desktop\\suoyouxiangmu\\movie\\movie\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import \"../../assets/css/dl.css\"\n",{"version":3,"sources":["dl.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA","file":"dl.vue","sourceRoot":"src\\components\\denglu","sourcesContent":["<template>\n    <div class=\"danll\">\n       <tou :neibu=\"neibu\"></tou>\n       <div class=\"denglu\">\n           <span :class=\"spgd\" @click=\"csjh\">手机号登录</span>\n           <span :class=\"spzh\" @click=\"czh\">账号登录</span>\n       </div>\n\n        <div class=\"ccyc\">\n            <ul class=\"daul\" :style=\"yidong\">\n            <li>\n               <div class=\"tanxingdl\">\n                   <span>手机号：</span>\n                   <input autofocus type=\"text\" v-model=\"sjh\" class=\"innn\">\n                   <button class=\"hqyzm\" @click=\"panduan\" :disabled=\"jinyong\">{{yanzhengma}}</button>\n                </div> \n               <div class=\"tanxingdl\"><span>验证码：</span><input type=\"password\" v-model=\"pdyzm\"  class=\"innn\"></div> \n            </li>\n            <li>\n               <div class=\"tanxingdl\">\n                   <span>账号：</span>\n                   <input type=\"text\" v-model=\"uname\"  class=\"innn\">\n                   </div> \n               <div class=\"tanxingdl\">\n                   <span>密码：</span>\n                   <input type=\"password\" v-model=\"upwd\"  class=\"innn\">\n                </div> \n            </li>\n            </ul>\n        </div>\n        <div :style=\"dl\" class=\"dl_anniu\">\n            <button @click=\"login\">登 录</button>\n        </div>\n        <div :style=\"sjdl\" class=\"dl_anniu\">\n            <button @click=\"ruayzm\">手机登录</button>\n        </div>\n\n\n\n        <div class=\"disfdl\"><span>———————&nbsp;&nbsp;</span><span>第三方登录</span><span>&nbsp;&nbsp;———————</span></div>\n        <div class=\"dsfrj\">\n            <img src=\"../../assets/myimg/qq.jpg\" >\n            <img src=\"../../assets/myimg/weibo.jpg\" >\n        </div>\n    <div>\n\n    </div>\n    </div>\n</template>\n\n<script>\nimport tou from './tou'\nexport default {\n    data() {\n        return {\n            yidong:\"left:0%;\",\n            spgd:{\n                spgdd:false\n            },\n            spzh:{\n                spgdd:true\n            },\n            uname:\"\",//用户名\n            upwd:\"\",//密码\n            sjh:'',\n            yzm:'',\n            pdyzm:'',\n            dl:\"display:none\",\n            sjdl:\"\",\n            neibu:\"登 录\",\n            jinyong:false,\n            shu:10,\n            yanzhengma:\"获取验证码\"\n        }\n    },\n    methods:{\n        ruayzm(){\n            if(this.pdyzm==this.yzm&&this.pdyzm!=''){\n               var url=\"login/login\";\n                this.axios.post(url,{//post的传值方式\n                uname:\"游客(手机登录)\",\n                upwd:123,\n                })\n                .then(result=>{\n               if(result.data.code==1){\n                   this.$toast({\n                    message:\"一号影院欢迎您（建议使用账户密码登录）！\",\n                    duration:1500,\n                    iconClass:\"iconfont icon-biaoqing4\"\n                    });\n                   this.$router.push(\"/mvhome\");\n                   sessionStorage.setItem(\"sessionLogin\",result.data.session);\n                   this.delyou()//删除游客购物车\n               }else{\n                   this.$toast(\"亲，手机登录正在更新中，请使用账户/密码进行登录\");\n               }\n                })\n            }else{\n                 this.$toast({\n                    message:\"验证码错误，请重新输入。\",\n                    duration:1000,\n                    // iconClass:\"iconfont icon-biaoqing4\"\n                    });\n            }\n        },\n        panduan(){\n            var bool=/^((\\+86|0086)\\s+)?1[3-8]\\d{9}$/.test(this.sjh);\n            var kkw=\"\";\n            if(bool){\n                for(var i=0;i<6;i++){\n                    kkw+=parseInt(Math.random()*9);\n                }\n                 this.$toast({\n                    message:`您的验证码为${kkw}`,\n                    duration:3000,\n                    });\n                this.yzm=kkw;\n                this.jinyong=true;\n                this.yanzhengma=`获取中(${this.shu})`\n                var t=setInterval(()=>{\n                    this.shu--\n                    this.yanzhengma=`获取中(${this.shu})`\n                    if(this.shu==0){\n                        this.yanzhengma=\"获取验证码\"\n                        this.jinyong=false;\n                        clearTimeout(t);\n                        this.shu=10;\n                    }\n                },1000)\n               \n            }else{\n                this.$toast({\n                message:\"请输入正确的手机号！\",\n                duration:1000,\n                });\n            }\n        },\n        csjh(){\n            this.spzh.spgdd=true;\n            this.spgd.spgdd=false;\n            this.yidong=\"left: 0;\"\n            this.dl=\"display:none;\"\n            this.sjdl=\"display:block;\"\n        },\n        czh(){\n            this.spzh.spgdd=false;\n            this.spgd.spgdd=true;\n            this.yidong=\"left:-100%;\";\n            this.dl=\"display:block;\"\n            this.sjdl=\"display:none;\"\n        },\n        login(){//登录的axios\n            var url=\"login/login\";\n            this.axios.post(url,{//post的传值方式\n                uname:this.uname,\n                upwd:this.upwd,\n            })\n            .then(result=>{\n                // console.log(this.uname)\n                // console.log(result)\n               if(result.data.code==1){\n                   this.$toast({\n                    message:\"一号影院欢迎您！\",\n                    duration:1500,\n                    iconClass:\"iconfont icon-biaoqing4\"\n                    });\n                   this.$router.push(\"/mvhome\")\n                   sessionStorage.setItem(\"sessionLogin\",result.data.session);\n                   //添加跳转\n               }else{\n                   this.$toast({\n                    message:\"用户名或者密码错误！\",\n                    duration:1000,\n                    iconClass:\"iconfont icon-bukaixin1\"\n                    });\n               }\n            })\n        },\n        delyou(){\n            var url=\"product/delYou\";\n            this.axios(url)\n            .then(result=>{\n            })\n        },\n    },\n    components:{\n        tou\n    }\n\n}\n</script>\n\n\n<style scoped>\n    @import \"../../assets/css/dl.css\"\n</style>\n"]}]}